{"version":3,"sources":["components/Content/Followers/User.module.css","components/Footer/Footer.jsx","components/Content/Settings/Settings.jsx","components/Header/Header.jsx","Redux/Selectors/authSelectors.js","components/Header/HeaderContainer.jsx","Redux/AppReducer.js","components/Common/Preloader/Preloader.jsx","Redux/discoverReducer.js","utls/objectHelper.js","Redux/usersReducer.js","Redux/profileReducer.js","Redux/redux-store.js","components/Content/Profile/Contents/Profile/UserStatus.jsx","components/Content/Profile/Contents/Profile/Userprofile.jsx","components/Content/Profile/Profile.jsx","Redux/Selectors/profileSelectors.js","components/Content/Profile/ProfileContainer.jsx","components/Common/Paginator/Paginator.jsx","components/Content/Followers/Users.jsx","Redux/Selectors/usersSelectros.js","components/Content/Followers/FollowersContainer.jsx","components/Content/Hoc/withSuspence.js","App.js","index.js","components/Content/Profile/Contents/Profile/User.module.css","components/Content/Profile/Profile.module.css","Redux/authReducer.js","components/Common/Paginator/Paginator.module.css","components/Header/Header.module.css","Redux/messagesReducer.js","components/Content/Hoc/withAuthRedirect.js","components/Footer/Footer.module.css","components/Common/Preloader/preloader.module.css","assets/img/loader.svg","DAL/api.js","assets/img/avatar.png"],"names":["module","exports","Footer","className","css","footer","Settings","Header","props","header","logo","nav","link","activeClassName","activeLink","to","isAuth","auth","login","onClick","logout","getAuthId","state","id","getIsAuth","getLogin","HeaderContainer","this","React","Component","connect","initState","initialized","appReducer","action","type","Preloader","preloader","src","alt","discoverData","name","discoverReducer","updateObjectInArray","items","itemId","objPropName","newObjProp","map","u","users","pageSize","totalUsersCount","currentPages","isFetching","followingInProgress","FOLLOW","followSuccess","userId","unfollowSuccess","toggleIsFetching","toggleIsFollowingInProgress","followUnfollow","dispatch","apiMethod","actionCreator","a","data","resultCode","usersReducer","followed","page","num","filter","profile","status","setUserStatus","messagesReducer","reducers","combineReducers","Messages","Discover","Users","Profile","profileReducer","authReducer","app","form","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","__store__","UserStatus","useState","editMode","setEditMode","setStatus","useEffect","onDoubleClick","onChange","e","currentTarget","value","autoFocus","onBlur","updateUserStatus","Userprofile","memo","userDetail","btn","fullName","aboutMe","management","section","posts","content","getProfile","getStatus","ProfileContainer","match","params","authorizedUserId","history","push","getUserProfile","getUserStatus","usersAPI","response","profileAPI","updateStatus","withRouter","withAuthRedirect","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","portionCount","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","pagination","pagControl","p","key","selectedPage","wrapper","card","userBlock","photos","small","avatar","userName","country","infoBlock","disabled","some","unfollow","follow","paginator","Paginator","getPageSize","getTotalUsersCount","getCurrentPages","getIsFetching","getFollowingInProgress","getUsersSuper","createSelector","UserBlock","setUsers","setCurrentPage","bind","getUsers","totalCount","withSuspence","fallback","DiscoverContainer","lazy","MessagesContainer","Login","App","initializeApp","path","render","FollowersContainer","AppComponent","promise","getAuthUserData","Promise","all","then","MainApp","ReactDOM","document","getElementById","email","setAuthUserData","authAPI","me","password","rememberMe","message","messages","length","stopSubmit","_error","time","correspondence","addMessage","Date","mapStateToPropsForRedirect","RedirectComponent","instance","axios","withCredentials","baseURL","headers","currentPage","get","responce","post","delete","console","warn","put"],"mappings":"sJACAA,EAAOC,QAAU,CAAC,QAAU,sBAAsB,MAAQ,oBAAoB,KAAO,mBAAmB,UAAY,wBAAwB,OAAS,qBAAqB,QAAU,sBAAsB,UAAY,wBAAwB,OAAS,qBAAqB,SAAW,yB,uICUxQC,EARA,WACX,OACI,4BAAQC,UAAYC,IAAIC,QAAxB,W,eCKOC,EARE,WACb,OACI,0C,gBCwBOC,EAxBF,SAACC,GACV,OACI,4BAAQL,UAAWC,IAAIK,QACnB,yBAAKN,UAAWC,IAAIM,MAChB,qCAEJ,yBAAKP,UAAWC,IAAIO,KAChB,yBAAKR,UAAWC,IAAIO,KAChB,kBAAC,IAAD,CAASR,UAAWC,IAAIQ,KAAMC,gBAAiBT,IAAIU,WAAYC,GAAG,aAAlE,YACA,kBAAC,IAAD,CAASZ,UAAWC,IAAIQ,KAAMC,gBAAiBT,IAAIU,WAAYC,GAAG,YAAlE,WACA,kBAAC,IAAD,CAASZ,UAAWC,IAAIQ,KAAMC,gBAAiBT,IAAIU,WAAYC,GAAG,cAAlE,aACA,kBAAC,IAAD,CAASZ,UAAWC,IAAIQ,KAAMC,gBAAiBT,IAAIU,WAAYC,GAAG,aAAlE,YACA,kBAAC,IAAD,CAASZ,UAAWC,IAAIQ,KAAMC,gBAAiBT,IAAIU,WAAYC,GAAG,aAAlE,cAGR,6BACKP,EAAMQ,OACD,6BAAK,uBAAGb,UAAWC,IAAIa,MAAOT,EAAMU,OAAU,4BAAQC,QAASX,EAAMY,OAAQjB,UAAWC,IAAIc,OAA9C,WAC/C,kBAAC,IAAD,CAASf,UAAWC,IAAIc,MAAOH,GAAG,UAAlC,Y,gBCtBRM,EAAY,SAACC,GACtB,OAAOA,EAAML,KAAKM,IAETC,EAAY,SAACF,GACtB,OAAOA,EAAML,KAAKD,QAGTS,EAAW,SAACH,GACrB,OAAOA,EAAML,KAAKC,OCFhBQ,E,uKAEE,OAAO,kBAAC,EAAWC,KAAKnB,W,GAFFoB,IAAMC,WAYrBC,eANS,SAACR,GAAD,MAAY,CAChCC,GAAIF,EAAUC,GACdJ,MAAOO,EAASH,GAChBN,OAAQQ,EAAUF,MAGkB,CAACF,YAA1BU,CAAmCJ,G,eCf9CK,EAAY,CACZC,aAAa,GA4BFC,EATI,WAAgC,IAA/BX,EAA8B,uDAAtBS,EAAWG,EAAW,uCAC9C,OAAQA,EAAOC,MACX,IAjBkB,0BAkBd,OAAO,2BAAIb,GAAX,IAAkBU,aAAa,IACnC,QACI,OAAOV,I,kCClBJc,EANC,WACZ,OAAO,yBAAKjC,UAAWC,IAAIiC,WACvB,yBAAKC,IAAKD,IAAWE,IAAI,gB,QCL7BR,EAAY,CACZS,aAAc,CACV,CAACjB,GAAI,EAAGkB,KAAM,SACd,CAAClB,GAAI,EAAGkB,KAAM,SACd,CAAClB,GAAI,EAAGkB,KAAM,SACd,CAAClB,GAAI,EAAGkB,KAAM,SACd,CAAClB,GAAI,EAAGkB,KAAM,UACd,CAAClB,GAAI,EAAGkB,KAAM,UACd,CAAClB,GAAI,EAAGkB,KAAM,SACd,CAAClB,GAAI,EAAGkB,KAAM,WACd,CAAClB,GAAI,EAAGkB,KAAM,UAYPC,EAPS,WAAgC,IAA/BpB,EAA8B,uDAAtBS,EAAWG,EAAW,uCAG3C,OAFAA,EAAOC,KAEAb,G,+CCnBNqB,EAAsB,SAACC,EAAOC,EAAQC,EAAaC,GAC5D,OAAOH,EAAMI,KAAI,SAAAC,GACb,OAAIA,EAAEH,KAAiBD,EACZ,2BAAII,GAAMF,GAEdE,MCDXlB,EAAY,CACZmB,MAAO,GACPC,SAAU,EACVC,gBAAiB,IACjBC,aAAc,EACdC,YAAY,EACZC,oBAAqB,IAKrBC,EAAS,eASAC,EAAgB,SAACC,GAAD,MAAa,CAACvB,KAAMqB,EAAQE,WAC5CC,EAAkB,SAACD,GAAD,MAAa,CAACvB,KAT9B,iBAS8CuB,WAGhDE,EAAmB,SAACN,GAAD,MAAiB,CAACnB,KATzB,yBASmDmB,eAC/DO,EAA8B,SAACP,EAAYI,GAAb,MAAyB,CAACvB,KAT/B,oCASsEmB,aAAYI,WAWlHI,EAAc,uCAAG,WAAOC,EAAUL,EAAQM,EAAWC,GAApC,SAAAC,EAAA,6DACnBH,EAASF,GAA4B,EAAMH,IADxB,SAEEM,EAAUN,GAFZ,OAIc,IAJd,OAINS,KAAKC,YACdL,EAASE,EAAcP,IAE3BK,EAASF,GAA4B,EAAOH,IAPzB,2CAAH,4DA2DLW,EA1CM,WAAgC,IAA/B/C,EAA8B,uDAAtBS,EAAWG,EAAW,uCAChD,OAAQA,EAAOC,MACX,KAAKqB,EACD,OAAO,2BACAlC,GADP,IAEI4B,MAAOP,EAAoBrB,EAAM4B,MAAOhB,EAAOwB,OAAQ,KAAM,CAACY,UAAU,MAEhF,IAhDO,iBAiDH,OAAO,2BACAhD,GADP,IAEI4B,MAAOP,EAAoBrB,EAAM4B,MAAOhB,EAAOwB,OAAQ,KAAM,CAACY,UAAU,MAEhF,IAvDQ,kBAwDJ,OAAO,2BAEAhD,GAFP,IAEc4B,MAAM,YAAKhB,EAAOgB,SAEpC,IAzDe,uBA0DX,OAAO,2BACA5B,GADP,IACc+B,aAAcnB,EAAOqC,OAEvC,IA5DmB,0BA6Df,OAAO,2BACAjD,GADP,IACc8B,gBAAiBlB,EAAOsC,MAE1C,IA/DiB,yBAgEb,OAAO,2BACAlD,GADP,IACcgC,WAAYpB,EAAOoB,aAErC,IAlE8B,oCAmE1B,OAAO,2BACAhC,GADP,IAEIiC,oBAAqBrB,EAAOoB,WAAP,sBACXhC,EAAMiC,qBADK,CACgBrB,EAAOwB,SACtCpC,EAAMiC,oBAAoBkB,QAAO,SAAAlD,GAAE,OAAIA,IAAOW,EAAOwB,YAGnE,QACI,OAAOpC,IC7FfS,GAAY,CACZ2C,QAAS,KACTC,OAAQ,IASCC,GAAgB,SAACD,GAAD,MAAa,CAACxC,KAJrB,0BAI4CwC,WA8BnDE,GAXS,WAAgC,IAA/BvD,EAA8B,uDAAtBS,GAAWG,EAAW,uCACnD,OAAQA,EAAOC,MACX,IA1Be,2BA2BX,OAAO,2BAAIb,GAAX,IAAkBoD,QAASxC,EAAOwC,UACtC,IA3Bc,0BA4BV,OAAO,2BAAIpD,GAAX,IAAkBqD,OAAQzC,EAAOyC,SACrC,QACI,OAAOrD,I,SC7BfwD,GAAWC,YAAgB,CAC3BC,SAAUH,IACVI,SAAUvC,EACVwC,MAAOb,EACPc,QAASC,GACTnE,KAAMoE,IACNC,IAAKrD,EACLsD,KAAMC,OAGJC,GAAmBC,OAAOC,sCAAwCC,IAClEC,GAAQC,YAAYhB,GAAUW,GAAiBM,YAAgBC,OAErEN,OAAOO,UAAYJ,GACJA,U,iDCYAK,GAlCI,SAAC1F,GAAW,IAAD,EACI2F,oBAAS,GADb,oBACrBC,EADqB,KACXC,EADW,OAEAF,mBAAS3F,EAAMmE,QAFf,oBAErBA,EAFqB,KAEb2B,EAFa,KAI1BC,qBAAU,WACND,EAAU9F,EAAMmE,UACjB,CAACnE,EAAMmE,SAaV,OACI,8BACMyB,GAAY,6BACV,0BAAMI,cAbO,WACrBH,GAAY,KAYoC7F,EAAMmE,QAAU,kEAG3DyB,GACG,6BACI,2BAAOK,SAXA,SAACC,GACpBJ,EAAUI,EAAEC,cAAcC,QAUmBC,WAAW,EAAMC,OAfvC,WACvBT,GAAY,GACZ7F,EAAMuG,iBAAiBpC,IAamEiC,MAAOjC,OCJ1FqC,GArBKpF,IAAMqF,MAAK,SAACzG,GAC5B,OACI,yBAAKL,UAAWC,KAAI8G,YAChB,yBAAK/G,UAAWC,KAAIK,QAChB,4BAAQN,UAAWC,KAAI+G,KAAvB,YACA,yBAAKhH,UAAWC,KAAIM,OACpB,4BAAQP,UAAWC,KAAI+G,KAAvB,cAEJ,uBAAGhH,UAAWC,KAAIqC,MAAOjC,EAAMkE,QAAQ0C,UACvC,kBAAC,GAAD,CAAYzC,OAAQnE,EAAMmE,OAAQoC,iBAAkBvG,EAAMuG,mBAC1D,2BAAIvG,EAAMkE,QAAQ2C,SAClB,yBAAKlH,UAAWC,KAAIkH,YAChB,4BAAQnH,UAAWC,KAAI+G,KAAvB,uEACA,4BAAQhH,UAAWC,KAAI+G,KAAvB,4ECYDhC,GAxBD,SAAC,GAAyC,IAAxCT,EAAuC,EAAvCA,QAASC,EAA8B,EAA9BA,OAAQoC,EAAsB,EAAtBA,iBAC7B,OAAKrC,EAKD,yBAAKvE,UAAWC,KAAImH,SAChB,kBAAC,GAAD,CAAa7C,QAASA,EAASC,OAAQA,EAAQoC,iBAAkBA,IACjE,yBAAK5G,UAAWC,KAAIoH,OAChB,yBAAKrH,UAAWC,KAAIO,KAChB,4BAAQR,UAAWC,KAAIQ,MAAvB,YACA,4BAAQT,UAAWC,KAAIQ,MAAvB,eACA,4BAAQT,UAAWC,KAAIQ,MAAvB,aACA,4BAAQT,UAAWC,KAAIQ,MAAvB,cAEJ,yBAAKT,UAAWC,KAAIqH,SAApB,eAbD,kBAAC,EAAD,O,SCPFC,GAAa,SAACpG,GACvB,OAAOA,EAAM6D,QAAQT,SAEZiD,GAAY,SAACrG,GACtB,OAAOA,EAAM6D,QAAQR,QCOnBiD,G,kLAEE,IAAIlE,EAAS/B,KAAKnB,MAAMqH,MAAMC,OAAOpE,OAChCA,IACDA,EAAS/B,KAAKnB,MAAMuH,iBAChBpG,KAAKnB,MAAMuH,kBACXpG,KAAKnB,MAAMwH,QAAQC,KAAK,WAGhCtG,KAAKnB,MAAM0H,eAAexE,GAC1B/B,KAAKnB,MAAM2H,cAAczE,K,+BAGzB,OAAO,kBAAC,GAAD,iBAAa/B,KAAKnB,MAAlB,CAAyBkE,QAAS/C,KAAKnB,MAAMkE,QAASC,OAAQhD,KAAKnB,MAAMmE,OAAQoC,iBAAkBpF,KAAKnB,MAAMuG,wB,GAb9FnF,IAAMC,WA0BtB+D,eACX9D,aAVkB,SAACR,GACnB,MAAO,CACHoD,QAASgD,GAAWpG,GACpBqD,OAAQgD,GAAUrG,GAClByG,iBAAkB1G,EAAUC,GAC5BN,OAAQQ,EAAUF,MAKG,CAAC4G,eNtBA,SAACxE,GAAD,8CAAY,WAAOK,GAAP,eAAAG,EAAA,sEACjBkE,IAASV,WAAWhE,GADH,OAClC2E,EADkC,OAEtCtE,EANwC,CAAC5B,KAJtB,2BAI8CuC,QAMzC2D,EAASlE,OAFK,2CAAZ,uDMsBgBgE,cNlBjB,SAACzE,GAAD,8CAAY,WAAOK,GAAP,eAAAG,EAAA,sEAChBoE,IAAWX,UAAUjE,GADL,OACjC2E,EADiC,OAErCtE,EAASa,GAAcyD,EAASlE,OAFK,2CAAZ,uDMkBgC4C,iBNd7B,SAACpC,GAAD,8CAAY,WAAOZ,GAAP,SAAAG,EAAA,sEACnBoE,IAAWC,aAAa5D,GADL,OAEP,IAFO,OAE3BR,KAAKC,YACdL,EAASa,GAAcD,IAHa,2CAAZ,yDMe5B6D,IACAC,KAHW7C,CAIbgC,I,qECPa1C,GA/BH,SAAC,GAIT,IAJyF,IAA/EwD,EAA8E,EAA9EA,gBAAiBvF,EAA6D,EAA7DA,SAAUwF,EAAmD,EAAnDA,cAAetF,EAAoC,EAApCA,aAAoC,IAAtBuF,mBAAsB,MAAR,GAAQ,EACpFC,EAAaC,KAAKC,KAAKL,EAAkBvF,GAEzC6F,EAAQ,GACHC,EAAI,EAAGA,GAAKJ,EAAYI,IAC7BD,EAAMf,KAAKgB,GAGf,IAAIC,EAAeJ,KAAKC,KAAKF,EAAaD,GAR8C,EAShDzC,mBAAS,GATuC,oBASnFgD,EATmF,KASpEC,EAToE,KAUpFC,GAAyBF,EAAgB,GAAKP,EAAc,EAC5DU,EAAyBH,EAAgBP,EAE7C,OAAO,yBAAKzI,UAAWC,KAAImJ,YACtBJ,EAAgB,GACjB,4BAAQhJ,UAAWC,KAAIoJ,WAAYrI,QAAS,WAAOiI,EAAiBD,EAAgB,KAApF,QAGIH,EACKvE,QAAQ,SAAAgF,GAAC,OAAIA,GAAKJ,GAAyBI,GAAKH,KAChDtG,KAAI,SAAAyG,GACL,OAAO,0BAAMC,IAAKD,EAAGtI,QAAS,SAACuF,GAC3BiC,EAAcc,IACftJ,UAAWkD,IAAiBoG,GAAKrJ,KAAIuJ,cAAeF,MAE9DP,EAAeC,GAChB,4BAAQhJ,UAAWC,KAAIoJ,WAAYrI,QAAS,WAAOiI,EAAiBD,EAAgB,KAApF,UCaOjE,GApCH,SAAC,GAAsF,IAArF7B,EAAoF,EAApFA,aAAcsG,EAAsE,EAAtEA,aAAchB,EAAwD,EAAxDA,cAAeD,EAAyC,EAAzCA,gBAAiBvF,EAAwB,EAAxBA,SAAa3C,EAAW,6FAC9F,OAAO,yBAAKL,UAAWC,KAAIwJ,SACvB,yBAAKzJ,UAAWC,KAAI8C,OAEZ1C,EAAM0C,MAAMF,KAAI,SAAAC,GAAC,OAAI,yBAAKyG,IAAKzG,EAAE1B,GAAIpB,UAAWC,KAAIyJ,MAChD,yBAAK1J,UAAWC,KAAI0J,WAChB,kBAAC,IAAD,CAAS/I,GAAE,mBAAckC,EAAE1B,KACvB,yBAAKe,IAAuB,MAAlBW,EAAE8G,OAAOC,MAAgB/G,EAAE8G,OAAOC,MAAQC,KAAQ1H,IAAI,IAAIpC,UAAWC,KAAI6J,UAEvF,wBAAI9J,UAAWC,KAAI8J,UAAWjH,EAAER,MAChC,0BAAMtC,UAAWC,KAAI+J,SAArB,kBACA,yBAAKhK,UAAWC,KAAIgK,WAChB,0CACA,2CAEHnH,EAAEqB,SACG,4BAAQ+F,SAAU7J,EAAM+C,oBAAoB+G,MAAK,SAAA/I,GAAE,OAAIA,IAAO0B,EAAE1B,MACxDJ,QAAS,WACLX,EAAM+J,SAAStH,EAAE1B,KAClBpB,UAAWC,KAAImK,UAH1B,YAIA,4BAAQF,SAAU7J,EAAM+C,oBAAoB+G,MAAK,SAAA/I,GAAE,OAAIA,IAAO0B,EAAE1B,MACxDJ,QAAS,WACLX,EAAMgK,OAAOvH,EAAE1B,KAChBpB,UAAWC,KAAIoK,QAH1B,gBAQtB,yBAAKrK,UAAWC,KAAIqK,WAChB,kBAACC,GAAD,CAAWrH,aAAcA,EAAcsG,aAAcA,EAAchB,cAAeA,EACvED,gBAAiBA,EAAiBvF,SAAUA,O,SC9BtDwH,GAAc,SAACrJ,GACxB,OAAOA,EAAM4D,MAAM/B,UAEVyH,GAAqB,SAACtJ,GAC/B,OAAOA,EAAM4D,MAAM9B,iBAEVyH,GAAkB,SAACvJ,GAC5B,OAAOA,EAAM4D,MAAM7B,cAEVyH,GAAgB,SAACxJ,GAC1B,OAAOA,EAAM4D,MAAM5B,YAEVyH,GAAyB,SAACzJ,GACnC,OAAOA,EAAM4D,MAAM3B,qBAIVyH,GAAgBC,cApBZ,SAAC3J,GACd,OAAOA,EAAM4D,MAAMhC,SAmB+B,SAACA,GACnD,OAAOA,EAAMuB,QAAO,SAAAxB,GAAC,OAAI,QCRvBiI,G,4MAKFvC,cAAgB,SAACpE,GAAU,IAChBpB,EAAY,EAAK3C,MAAjB2C,SACP,EAAK3C,MAAM2K,SAAS5G,EAAMpB,GAC1B,EAAK3C,MAAM4K,eAAe7G,I,kEAPT,IAAD,EACiB5C,KAAKnB,MAA/B6C,EADS,EACTA,aAAcF,EADL,EACKA,SACrBxB,KAAKnB,MAAM2K,SAAS9H,EAAcF,K,+BAQlC,OAAO,oCACFxB,KAAKnB,MAAM8C,WAAa,kBAAC,EAAD,MAAe,KACxC,kBAAC,GAAD,CAAOoF,gBAAiB/G,KAAKnB,MAAMkI,gBAC5BvF,SAAUxB,KAAKnB,MAAM2C,SACrBD,MAAOvB,KAAKnB,MAAM0C,MAClBG,aAAc1B,KAAKnB,MAAM6C,aACzBsF,cAAehH,KAAKgH,cACpB6B,OAAQ7I,KAAKnB,MAAMgK,OACnBD,SAAU5I,KAAKnB,MAAM+J,SACrBhH,oBAAqB5B,KAAKnB,MAAM+C,oBAChCM,4BAA6BlC,KAAKnB,MAAMqD,mC,GArBnCjC,IAAMC,WAuCf+D,eACX9D,aAbkB,SAACR,GACnB,MAAO,CACH4B,MAAO8H,GAAc1J,GACrB6B,SAAUwH,GAAYrJ,GACtBoH,gBAAiBkC,GAAmBtJ,GACpC+B,aAAcwH,GAAgBvJ,GAC9BgC,WAAYwH,GAAcxJ,GAC1BiC,oBAAqBwH,GAAuBzJ,MAMvB,CAACkJ,OXPR,SAAC9G,GAAD,8CAAY,WAAOK,GAAP,SAAAG,EAAA,sDAC1BJ,EAAeC,EAAUL,EAAQ0E,IAASoC,OAAOa,KAAKjD,KAAW3E,GADvC,2CAAZ,uDWOgB8G,SXJd,SAAC7G,GAAD,8CAAY,WAAOK,GAAP,SAAAG,EAAA,sDAChCJ,EAAeC,EAAUL,EAAQ0E,IAASmC,SAASc,KAAKjD,KAAWzE,GADnC,2CAAZ,uDWIwByH,eX9BlB,SAAC7G,GAAD,MAAW,CAACpC,KATnB,uBAS2CoC,SW8BFV,8BAA6BsH,SXxBrE,SAAC9H,EAAcF,GAAf,8CAA4B,WAAOY,GAAP,eAAAG,EAAA,6DAChDH,EAASH,GAAiB,IADsB,SAE/BwE,IAASkD,SAASjI,EAAcF,GAFD,OAE5CgB,EAF4C,OAGhDJ,EAASH,GAAiB,IAC1BG,EATuC,CAAC5B,KATjB,0BAS6CqC,IASzCL,EAAKoH,aAChCxH,EAdkC,CAAC5B,KATvB,kBASwCe,MAchCiB,EAAKvB,QALuB,2CAA5B,yDWuBTgD,CAEbsF,ICtDWM,GAAe,SAAC3J,GACzB,OAAO,SAACrB,GACJ,OAAO,kBAAC,WAAD,CAAUiL,SAAU,kBAAC,EAAD,OACvB,kBAAC5J,EAAcrB,MCUrBkL,GAAoB9J,IAAM+J,MAAK,kBAAM,iCACrCC,GAAoBhK,IAAM+J,MAAK,kBAAM,uDACrCE,GAAQjK,IAAM+J,MAAK,kBAAM,uDAEzBG,G,kLAEEnK,KAAKnB,MAAMuL,kB,+BAIX,OAAKpK,KAAKnB,MAAMwB,YAIZ,yBAAK7B,UAAU,eACX,kBAAC,EAAD,MACA,yBAAKA,UAAU,eACX,kBAAC,IAAD,CAAO6L,KAAK,YAAYC,OAAQT,GAAaE,MAC7C,kBAAC,IAAD,CAAOM,KAAK,oBAAoBC,OAAQ,kBAAM,kBAAC,GAAD,SAC9C,kBAAC,IAAD,CAAOD,KAAK,aAAaC,OAAQ,kBAAM,kBAACC,GAAD,SACvC,kBAAC,IAAD,CAAOF,KAAK,YAAYC,OAAQT,GAAaI,MAC7C,kBAAC,IAAD,CAAOI,KAAK,SAASC,OAAQT,GAAaK,MAC1C,kBAAC,IAAD,CAAOG,KAAK,YAAYC,OAAQ,kBAAM,kBAAC,EAAD,UAE1C,kBAAC,EAAD,OAbG,kBAAC,EAAD,U,GAPDrK,IAAMC,WA6BpBsK,GAAevG,YACf4C,IACA1G,aALoB,SAACR,GAAD,MAAY,CAChCU,YAAaV,EAAMgE,IAAItD,eAIE,CAAC+J,cjBrCD,kBAAM,SAAChI,GAChC,IAAIqI,EAAUrI,EAASsI,eACvBC,QAAQC,IAAI,CAACH,IACRI,MAAK,WACFzI,EAP6B,CAAC5B,KAHhB,mCiByCPyD,CAE4BkG,IAUhCW,GARD,SAACjM,GACX,OAAO,kBAAC,IAAD,KACH,kBAAC,IAAD,CAAUqF,MAAOA,IACb,kBAACsG,GAAD,SCnDZO,IAAST,OAAO,kBAAC,GAAD,MAAaU,SAASC,eAAe,U,mBCJrD5M,EAAOC,QAAU,CAAC,IAAM,kBAAkB,WAAa,yBAAyB,OAAS,qBAAqB,KAAO,mBAAmB,KAAO,mBAAmB,WAAa,2B,mBCA/KD,EAAOC,QAAU,CAAC,QAAU,yBAAyB,MAAQ,uBAAuB,IAAM,qBAAqB,KAAO,wB,wLCGlH8B,EAAY,CACZR,GAAI,KACJL,MAAO,KACP2L,MAAO,KACP7L,QAAQ,GAOC8L,EAAkB,SAACvL,EAAIL,EAAO2L,EAAO7L,GAAnB,MAA+B,CAC1DmB,KAJqB,yBAKrBgC,KAAM,CAAC5C,KAAIL,QAAO2L,QAAO7L,YAIhBqL,EAAkB,yDAAM,WAAOtI,GAAP,uBAAAG,EAAA,sEACZ6I,IAAQC,KADI,OAEA,KAD7B3E,EAD6B,QAEpBlE,KAAKC,aAAmB,EACRiE,EAASlE,KAAKA,KAAlC5C,EAD2B,EAC3BA,GAAIL,EADuB,EACvBA,MAAO2L,EADgB,EAChBA,MAChB9I,EAAS+I,EAAgBvL,EAAIL,EAAO2L,GAAO,KAJd,2CAAN,uDAOlB3L,EAAQ,SAAC2L,EAAOI,EAAUC,GAAlB,8CAAiC,WAAOnJ,GAAP,iBAAAG,EAAA,sEAC7B6I,IAAQ7L,MAAM2L,EAAOI,EAAUC,GADF,OAEjB,KAD7B7E,EAD8C,QAErClE,KAAKC,WACdL,EAASsI,MAELc,EAAU9E,EAASlE,KAAKiJ,SAASC,OAAS,EACxChF,EAASlE,KAAKiJ,SAAS,GACvB,aACNrJ,EAASuJ,YAAW,QAAS,CAACC,OAAQJ,MARQ,2CAAjC,uDAYR/L,EAAS,yDAAM,WAAO2C,GAAP,SAAAG,EAAA,sEACH6I,IAAQ3L,SADL,OAES,IAFT,OAEX+C,KAAKC,YACdL,EAASsI,EAAgB,KAAM,KAAM,MAAM,IAHvB,2CAAN,uDAgBPhH,IATK,WAAgC,IAA/B/D,EAA8B,uDAAtBS,EAAWG,EAAW,uCAC/C,OAAQA,EAAOC,MACX,IArCiB,yBAsCb,OAAO,2BAAIb,GAAUY,EAAOiC,MAChC,QACI,OAAO7C,K,mBCnDnBtB,EAAOC,QAAU,CAAC,aAAe,gCAAgC,WAAa,8BAA8B,WAAa,gC,kBCAzHD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,KAAO,qBAAqB,IAAM,oBAAoB,WAAa,2BAA2B,KAAO,qBAAqB,MAAQ,sBAAsB,KAAO,uB,qFCA7M8B,EAAY,CACZoL,QAAS,CACL,CAAC5L,GAAI,EAAGkB,KAAM,QAAS+K,KAAM,QAASL,QAAS,eAC/C,CAAC5L,GAAI,EAAGkB,KAAM,QAAS+K,KAAM,QAASL,QAAS,MAC/C,CAAC5L,GAAI,EAAGkB,KAAM,QAAS+K,KAAM,QAASL,QAAS,cAC/C,CAAC5L,GAAI,EAAGkB,KAAM,QAAS+K,KAAM,QAASL,QAAS,OAC/C,CAAC5L,GAAI,EAAGkB,KAAM,UAAW+K,KAAM,QAASL,QAAS,OAErDM,eAAgB,CACZ,CAAClM,GAAI,EAAGiM,KAAM,QAASL,QAAS,eAChC,CAAC5L,GAAI,EAAGiM,KAAM,QAASL,QAAS,QAChC,CAAC5L,GAAI,EAAGiM,KAAM,QAASL,QAAS,MAChC,CAAC5L,GAAI,EAAGiM,KAAM,QAASL,QAAS,SAQ3BO,EAAa,SAACP,GAAD,MAAc,CAAChL,KAHvB,uBAG0CgL,YAe7CtI,IAZS,WAAgC,IAA/BvD,EAA8B,uDAAtBS,EAAWG,EAAW,uCACnD,OAAQA,EAAOC,MACX,IARU,uBASN,OAAO,2BACAb,GADP,IAEImM,eAAe,GAAD,mBAAMnM,EAAMmM,gBAAZ,CAA4B,CAAClM,GAAI,EAAGiM,KAAM,IAAIG,KAAQR,QAASjL,EAAOiL,aAE5F,QACI,OAAO7L,K,qIC3BfsM,EAA6B,SAACtM,GAAD,MAAY,CACzCN,OAAQM,EAAML,KAAKD,SAEVyH,EAAmB,SAAC5G,GAAe,IACtCgM,EADqC,uKAGnC,OAAKlM,KAAKnB,MAAMQ,OAET,kBAACa,EAAcF,KAAKnB,OAFI,kBAAC,IAAD,CAAUO,GAAI,eAHV,GACXa,IAAMC,WAQtC,OAAOC,YAAQ8L,EAAR9L,CAAoC+L,K,mBChB/C7N,EAAOC,QAAU,CAAC,OAAS,yB,mBCA3BD,EAAOC,QAAU,CAAC,UAAY,+B,mBCD9BD,EAAOC,QAAU,IAA0B,oC,+BCA3C,kHAEM6N,EAAWC,SAAa,CAC1BC,iBAAiB,EACjBC,QAAS,gDACTC,QAAS,CACL,UAAW,0CAIN9F,EAAW,CACpBkD,SADoB,WACqB,IAAhC6C,EAA+B,uDAAjB,EAAGhL,EAAc,uDAAH,EACjC,OAAO2K,EAASM,IAAT,qBAA2BD,EAA3B,kBAAgDhL,IAClDqJ,MAAK,SAAA6B,GAAQ,OAAIA,EAASlK,SAEnCqG,OALoB,SAKb9G,GACH,OAAOoK,EAASQ,KAAT,iBAAwB5K,GAAU,KAE7C6G,SARoB,SAQX7G,GACL,OAAOoK,EAASS,OAAT,iBAA0B7K,KAErCgE,WAXoB,SAWThE,GAGP,OADA8K,QAAQC,KAAK,uEACNnG,EAAWZ,WAAWhE,KAGxB4E,EAAa,CACtBZ,WADsB,SACXhE,GACP,OAAOoK,EAASM,IAAT,kBAAwB1K,KAEnCiE,UAJsB,SAIZjE,GACN,OAAOoK,EAASM,IAAT,yBAA+B1K,KAE1C6E,aAPsB,SAOT5D,GACT,OAAOmJ,EAASY,IAAI,iBAAiB,CAAC/J,aAKjCoI,EAAU,CACnBC,GADmB,WAEf,OAAOc,EAASM,IAAI,YAExBlN,MAJmB,SAIb2L,EAAOI,GAA+B,IAArBC,EAAoB,wDACvC,OAAOY,EAASQ,KAAK,aAAc,CAACzB,QAAOI,WAAUC,gBAEzD9L,OAPmB,WAQf,OAAO0M,EAASS,OAAO,iB,mBChD/BvO,EAAOC,QAAU,IAA0B,qC","file":"static/js/main.91eb0f1f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"User_wrapper__1tM6c\",\"users\":\"User_users__3Fv9k\",\"card\":\"User_card__C5Udv\",\"userBlock\":\"User_userBlock__2FQVa\",\"avatar\":\"User_avatar__2r3mZ\",\"country\":\"User_country__BlhQm\",\"infoBlock\":\"User_infoBlock__1VPA9\",\"follow\":\"User_follow__3cBel\",\"unfollow\":\"User_unfollow__2_ilp\"};","import React from 'react';\r\nimport css from './Footer.module.css'\r\n\r\nconst Footer = () => {\r\n    return (\r\n        <footer className={ css.footer }>\r\n            Footer\r\n        </footer>\r\n    );\r\n}\r\n\r\nexport default Footer;","import React from \"react\";\r\n\r\nconst Settings = () => {\r\n    return (\r\n        <div>\r\n            Settings\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Settings","import React from 'react';\r\nimport css from './Header.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nlet Header = (props) => {\r\n    return (\r\n        <header className={css.header}>\r\n            <div className={css.logo}>\r\n                <h1>IDEA</h1>\r\n            </div>\r\n            <nav className={css.nav}>\r\n                <nav className={css.nav}>\r\n                    <NavLink className={css.link} activeClassName={css.activeLink} to='/Discover'>Discover</NavLink>\r\n                    <NavLink className={css.link} activeClassName={css.activeLink} to='/Profile'>Profile</NavLink>\r\n                    <NavLink className={css.link} activeClassName={css.activeLink} to='/Followers'>Followers</NavLink>\r\n                    <NavLink className={css.link} activeClassName={css.activeLink} to='/Messages'>Messages</NavLink>\r\n                    <NavLink className={css.link} activeClassName={css.activeLink} to='/Settings'>Settings</NavLink>\r\n                </nav>\r\n            </nav>\r\n            <div>\r\n                {props.isAuth\r\n                    ? <div><p className={css.auth}>{props.login}</p><button onClick={props.logout} className={css.login}>logout</button></div>\r\n                    :<NavLink className={css.login} to='/Login'>Login</NavLink>}\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header;","export const getAuthId = (state) => {\r\n    return state.auth.id\r\n}\r\nexport const getIsAuth = (state) => {\r\n    return state.auth.isAuth\r\n}\r\n\r\nexport const getLogin = (state) => {\r\n    return state.auth.login\r\n}\r\n\r\n","import React from 'react';\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../Redux/authReducer\";\r\nimport {getAuthId, getIsAuth, getLogin} from \"../../Redux/Selectors/authSelectors\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n    render() {\r\n        return <Header {...this.props} />\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    id: getAuthId(state),\r\n    login: getLogin(state),\r\n    isAuth: getIsAuth(state)\r\n})\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer)","import {getAuthUserData} from \"./authReducer\";\r\n\r\n//INIT\r\nlet initState = {\r\n    initialized: false\r\n}\r\n\r\n// ACTION TYPE\r\nlet INITIALIZED_SUCCESS = 'app/INITIALIZED_SUCCESS';\r\n\r\n// ACTION CREATOR\r\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS})\r\n\r\n// THUNK CREATOR\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData())\r\n    Promise.all([promise])\r\n        .then(() => {\r\n            dispatch(initializedSuccess())\r\n        })\r\n}\r\n\r\n//REDUCER\r\nconst appReducer = (state = initState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {...state, initialized: true}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default appReducer","import React from 'react';\r\nimport css from './preloader.module.css'\r\nimport preloader from '../../../assets/img/loader.svg'\r\n\r\nlet Preloader = () => {\r\n    return <div className={css.preloader}>\r\n        <img src={preloader} alt=\"preloader\"/>\r\n    </div>\r\n}\r\n\r\nexport default Preloader","// INIT\r\nlet initState = {\r\n    discoverData: [\r\n        {id: 1, name: 'Pasha'},\r\n        {id: 2, name: 'Kolya'},\r\n        {id: 3, name: 'Sveta'},\r\n        {id: 4, name: 'Ahmed'},\r\n        {id: 5, name: 'Razmik'},\r\n        {id: 6, name: 'Gevorg'},\r\n        {id: 7, name: 'Artem'},\r\n        {id: 8, name: 'Vitalik'},\r\n        {id: 9, name: 'Grey'}\r\n    ]\r\n}\r\n\r\n// REDUCER\r\nconst discoverReducer = (state = initState, action) => {\r\n    switch (action.type) {\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default discoverReducer","export const updateObjectInArray = (items, itemId, objPropName, newObjProp) => {\r\n    return items.map(u => {\r\n        if (u[objPropName] === itemId) {\r\n            return {...u, ...newObjProp}\r\n        }\r\n        return u\r\n    })\r\n}","import {usersAPI} from \"../DAL/api\";\r\nimport {updateObjectInArray} from \"../utls/objectHelper\";\r\n\r\n// INIT\r\nlet initState = {\r\n    users: [],\r\n    pageSize: 9,\r\n    totalUsersCount: 100,\r\n    currentPages: 1,\r\n    isFetching: false,\r\n    followingInProgress: []\r\n}\r\n\r\n// ACTION TYPE\r\nlet SET_USERS = 'users/SET_USERS';\r\nlet FOLLOW = 'users/FOLLOW'\r\nlet UNFOLLOW = 'users/UNFOLLOW'\r\nlet SET_CURRENT_PAGE = 'users/SETCURRENTPAGE'\r\nlet SET_TOTAL_USER_COUNT = 'users/SETTOTALUSERCOUNT'\r\nlet TOGGLE_IS_FETCHING = 'users/TOGGLEISFETCHING'\r\nlet TOGGLE_IS_FOLLOWING_IN_PROGRESS = 'users/TOGGLEISFOLLOWINGINPROGRESS'\r\n\r\n// ACTION CREATOR\r\nexport const setUsersAC = (users) => ({type: SET_USERS, users})\r\nexport const followSuccess = (userId) => ({type: FOLLOW, userId})\r\nexport const unfollowSuccess = (userId) => ({type: UNFOLLOW, userId})\r\nexport const setCurrentPage = (page) => ({type: SET_CURRENT_PAGE, page})\r\nexport const setTotalUserCount = (num) => ({type: SET_TOTAL_USER_COUNT, num})\r\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching})\r\nexport const toggleIsFollowingInProgress = (isFetching, userId) => ({type: TOGGLE_IS_FOLLOWING_IN_PROGRESS, isFetching, userId})\r\n\r\n// THUNK CREATOR\r\nexport const setUsers = (currentPages, pageSize) => async (dispatch) => {\r\n    dispatch(toggleIsFetching(true))\r\n    let data = await usersAPI.getUsers(currentPages, pageSize)\r\n    dispatch(toggleIsFetching(false))\r\n    dispatch(setTotalUserCount(data.totalCount))\r\n    dispatch(setUsersAC(data.items))\r\n\r\n}\r\nconst followUnfollow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    dispatch(toggleIsFollowingInProgress(true, userId))\r\n    let response = await apiMethod(userId)\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(actionCreator(userId))\r\n    }\r\n    dispatch(toggleIsFollowingInProgress(false, userId))\r\n}\r\nexport const follow = (userId) => async (dispatch) => {\r\n        followUnfollow(dispatch, userId, usersAPI.follow.bind(usersAPI), followSuccess)\r\n}\r\nexport const unfollow = (userId) => async (dispatch) => {\r\n    followUnfollow(dispatch, userId, usersAPI.unfollow.bind(usersAPI), unfollowSuccess)\r\n}\r\n\r\n// REDUCER\r\nconst usersReducer = (state = initState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, 'id', {followed: true})\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, 'id', {followed: false})\r\n            }\r\n        case SET_USERS:\r\n            return {\r\n                // ...state, users: [...state.users, ...action.users]\r\n                ...state, users: [...action.users]\r\n            }\r\n        case SET_CURRENT_PAGE:\r\n            return {\r\n                ...state, currentPages: action.page\r\n            }\r\n        case SET_TOTAL_USER_COUNT:\r\n            return {\r\n                ...state, totalUsersCount: action.num\r\n            }\r\n        case TOGGLE_IS_FETCHING:\r\n            return {\r\n                ...state, isFetching: action.isFetching\r\n            }\r\n        case TOGGLE_IS_FOLLOWING_IN_PROGRESS:\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id !== action.userId)\r\n\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default usersReducer","import {profileAPI, usersAPI} from \"../DAL/api\";\r\n// INIT\r\nlet initState = {\r\n    profile: null,\r\n    status: ''\r\n}\r\n\r\n// ACTION TYPE\r\nlet SET_USER_PROFILE = 'profile/SET-USER-PROFILE';\r\nlet SET_USER_STATUS = 'profile/SET_USER_STATUS';\r\n\r\n// ACTION CREATOR\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile})\r\nexport const setUserStatus = (status) => ({type: SET_USER_STATUS, status})\r\n\r\n// THUNK CREATOR\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n    let response = await usersAPI.getProfile(userId)\r\n    dispatch(setUserProfile(response.data))\r\n}\r\nexport const getUserStatus = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getStatus(userId)\r\n    dispatch(setUserStatus(response.data))\r\n}\r\nexport const updateUserStatus = (status) => async (dispatch) => {\r\n    let response = await profileAPI.updateStatus(status)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setUserStatus(status))\r\n    }\r\n}\r\n\r\n// REDUCER\r\nconst messagesReducer = (state = initState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_PROFILE:\r\n            return {...state, profile: action.profile}\r\n        case SET_USER_STATUS:\r\n            return {...state, status: action.status}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default messagesReducer","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport discoverReducer from \"./discoverReducer\";\r\nimport messagesReducer from \"./messagesReducer\";\r\nimport usersReducer from \"./usersReducer\";\r\nimport profileReducer from \"./profileReducer\";\r\nimport authReducer from \"./authReducer\";\r\nimport appReducer from \"./AppReducer\";\r\nimport { reducer as formReducer } from 'redux-form'\r\n\r\nlet reducers = combineReducers({\r\n    Messages: messagesReducer,\r\n    Discover: discoverReducer,\r\n    Users: usersReducer,\r\n    Profile: profileReducer,\r\n    auth: authReducer,\r\n    app: appReducer,\r\n    form: formReducer\r\n})\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\nwindow.__store__ = store\r\nexport default store\r\n\r\n","import React, {useEffect, useState} from \"react\";\r\n\r\nconst UserStatus = (props) => {\r\n    let [editMode, setEditMode] = useState(false)\r\n    let [status, setStatus] = useState(props.status)\r\n\r\n    useEffect(()=> {\r\n        setStatus(props.status)\r\n    }, [props.status])\r\n\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true)\r\n    }\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false)\r\n        props.updateUserStatus(status)\r\n    }\r\n    const onStatusChange = (e) => {\r\n        setStatus(e.currentTarget.value)\r\n    }\r\n    return (\r\n        <div>\r\n            {!editMode && <div>\r\n                <span onDoubleClick={activateEditMode}>{props.status || 'Нет статуса'}</span>\r\n            </div>\r\n            }\r\n            {editMode &&\r\n                <div>\r\n                    <input onChange={onStatusChange} autoFocus={true} onBlur={deactivateEditMode} value={status}></input>\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UserStatus","import React from \"react\";\r\nimport css from \"./User.module.css\"\r\nimport UserStatus from \"./UserStatus\";\r\n\r\nconst Userprofile = React.memo((props) => {\r\n    return (\r\n        <div className={css.userDetail}>\r\n            <div className={css.header}>\r\n                <button className={css.btn}>+ Follow</button>\r\n                <div className={css.logo}></div>\r\n                <button className={css.btn}>+ Message</button>\r\n            </div>\r\n            <p className={css.name}>{props.profile.fullName}</p>\r\n            <UserStatus status={props.status} updateUserStatus={props.updateUserStatus}/>\r\n            <p>{props.profile.aboutMe}</p>\r\n            <div className={css.management}>\r\n                <button className={css.btn}>Создать пост</button>\r\n                <button className={css.btn}>Удалить пост</button>\r\n\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n})\r\n\r\nexport default Userprofile","import React from \"react\";\r\nimport css from \"./Profile.module.css\"\r\nimport Userprofile from \"./Contents/Profile/Userprofile\";\r\nimport Preloader from \"../../Common/Preloader/Preloader\";\r\n\r\nlet Profile = ({profile, status, updateUserStatus}) => {\r\n    if (!profile){\r\n        return <Preloader />\r\n    }\r\n\r\n    return (\r\n        <div className={css.section}>\r\n            <Userprofile profile={profile} status={status} updateUserStatus={updateUserStatus}/>\r\n            <div className={css.posts}>\r\n                <div className={css.nav}>\r\n                    <button className={css.link}>Projects</button>\r\n                    <button className={css.link}>Collections</button>\r\n                    <button className={css.link}>Followers</button>\r\n                    <button className={css.link}>Following</button>\r\n                </div>\r\n                <div className={css.content}>\r\n                    some info\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default Profile","export const getProfile = (state) => {\r\n    return state.Profile.profile\r\n}\r\nexport const getStatus = (state) => {\r\n    return state.Profile.status\r\n}\r\n","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport Profile from \"./Profile\";\r\nimport {getUserProfile, getUserStatus, updateUserStatus} from \"../../../Redux/profileReducer\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {withAuthRedirect} from \"../Hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\nimport {getProfile, getStatus} from \"../../../Redux/Selectors/profileSelectors\";\r\nimport {getAuthId, getIsAuth} from \"../../../Redux/Selectors/authSelectors\";\r\n\r\n\r\nclass ProfileContainer extends React.Component {\r\n    componentDidMount() {\r\n        let userId = this.props.match.params.userId\r\n        if (!userId) {\r\n            userId = this.props.authorizedUserId\r\n            if(!this.props.authorizedUserId){\r\n                this.props.history.push('/login')\r\n            }\r\n        }\r\n        this.props.getUserProfile(userId)\r\n        this.props.getUserStatus(userId)\r\n    }\r\n    render() {\r\n        return <Profile {...this.props} profile={this.props.profile} status={this.props.status} updateUserStatus={this.props.updateUserStatus}/>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        profile: getProfile(state),\r\n        status: getStatus(state),\r\n        authorizedUserId: getAuthId(state),\r\n        isAuth: getIsAuth(state)\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {getUserProfile, getUserStatus, updateUserStatus}),\r\n    withRouter,\r\n    withAuthRedirect\r\n)(ProfileContainer)\r\n\r\n\r\n","import React, {useState} from \"react\";\r\nimport css from './Paginator.module.css'\r\n\r\nlet Users = ({totalItemsCount, pageSize, onPageChanged, currentPages, portionSize = 10}) => {\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize)\r\n\r\n    let pages = []\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize)\r\n    let [portionNumber, setPortionNumber] = useState(1)\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1\r\n    let rightPortionPageNumber = portionNumber * portionSize\r\n\r\n    return <div className={css.pagination}>\r\n        {portionNumber > 1 &&\r\n        <button className={css.pagControl} onClick={() => {setPortionNumber(portionNumber - 1)}}>Prev</button>\r\n        }\r\n        {\r\n            pages\r\n                .filter( p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n                .map(p => {\r\n                return <span key={p} onClick={(e) => {\r\n                    onPageChanged(p)\r\n                }} className={currentPages === p && css.selectedPage}>{p}</span>\r\n            })}\r\n        {portionCount > portionNumber &&\r\n        <button className={css.pagControl} onClick={() => {setPortionNumber(portionNumber + 1)}}>Next</button>\r\n        }\r\n    </div>\r\n}\r\n\r\nexport default Users","import React from \"react\";\r\nimport css from './User.module.css'\r\nimport avatar from '../../../assets/img/avatar.png'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport Paginator from \"../../Common/Paginator/Paginator\";\r\n\r\nlet Users = ({currentPages, selectedPage, onPageChanged, totalItemsCount, pageSize, ...props}) => {\r\n    return <div className={css.wrapper}>\r\n        <div className={css.users}>\r\n            {\r\n                props.users.map(u => <div key={u.id} className={css.card}>\r\n                    <div className={css.userBlock}>\r\n                        <NavLink to={`/profile/${u.id}`}>\r\n                            <img src={u.photos.small != null ? u.photos.small : avatar} alt=\"#\" className={css.avatar}/>\r\n                        </NavLink>\r\n                        <h3 className={css.userName}>{u.name}</h3>\r\n                        <span className={css.country}>u.address.city</span>\r\n                        <div className={css.infoBlock}>\r\n                            <span>12 likes</span>\r\n                            <span>15 views</span>\r\n                        </div>\r\n                        {u.followed\r\n                            ? <button disabled={props.followingInProgress.some(id => id === u.id)}\r\n                                      onClick={() => {\r\n                                          props.unfollow(u.id)\r\n                                      }} className={css.unfollow}>Unfollow</button>\r\n                            : <button disabled={props.followingInProgress.some(id => id === u.id)}\r\n                                      onClick={() => {\r\n                                          props.follow(u.id)\r\n                                      }} className={css.follow}>Follow</button>}\r\n                    </div>\r\n                </div>)\r\n            }\r\n        </div>\r\n        <div className={css.paginator}>\r\n            <Paginator currentPages={currentPages} selectedPage={selectedPage} onPageChanged={onPageChanged}\r\n                       totalItemsCount={totalItemsCount} pageSize={pageSize}/>\r\n        </div>\r\n\r\n    </div>\r\n}\r\n\r\nexport default Users","import {createSelector} from \"reselect\";\r\n\r\n//Simple Selectors\r\nconst getUsers = (state) => {\r\n    return state.Users.users\r\n}\r\nexport const getPageSize = (state) => {\r\n    return state.Users.pageSize\r\n}\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.Users.totalUsersCount\r\n}\r\nexport const getCurrentPages = (state) => {\r\n    return state.Users.currentPages\r\n}\r\nexport const getIsFetching = (state) => {\r\n    return state.Users.isFetching\r\n}\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.Users.followingInProgress\r\n}\r\n\r\n//TEST\r\nexport const getUsersSuper = createSelector(getUsers, (users) => {\r\n    return users.filter(u => true)\r\n})\r\n\r\n","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {follow, unfollow, setCurrentPage, toggleIsFollowingInProgress, setUsers} from \"../../../Redux/usersReducer\";\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../../Common/Preloader/Preloader\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getCurrentPages,\r\n    getFollowingInProgress,\r\n    getIsFetching,\r\n    getPageSize,\r\n    getTotalUsersCount,getUsersSuper\r\n} from \"../../../Redux/Selectors/usersSelectros\";\r\n\r\n// TODO перекинуть этот блок в profile\r\n\r\nclass UserBlock extends React.Component {\r\n    componentDidMount() {\r\n        const {currentPages, pageSize} = this.props\r\n        this.props.setUsers(currentPages, pageSize)\r\n    }\r\n    onPageChanged = (page) => {\r\n        const {pageSize} = this.props\r\n        this.props.setUsers(page, pageSize)\r\n        this.props.setCurrentPage(page)\r\n    }\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching ? <Preloader/> : null}\r\n            <Users totalItemsCount={this.props.totalItemsCount}\r\n                   pageSize={this.props.pageSize}\r\n                   users={this.props.users}\r\n                   currentPages={this.props.currentPages}\r\n                   onPageChanged={this.onPageChanged}\r\n                   follow={this.props.follow}\r\n                   unfollow={this.props.unfollow}\r\n                   followingInProgress={this.props.followingInProgress}\r\n                   toggleIsFollowingInProgress={this.props.toggleIsFollowingInProgress}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsersSuper(state),\r\n        pageSize: getPageSize(state),\r\n        totalItemsCount: getTotalUsersCount(state),\r\n        currentPages: getCurrentPages(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    }\r\n}\r\n\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {follow, unfollow, setCurrentPage, toggleIsFollowingInProgress, setUsers})\r\n)(UserBlock)\r\n\r\n\r\n","import React, {Suspense} from \"react\";\r\nimport Preloader from \"../../Common/Preloader/Preloader\";\r\n\r\nexport const withSuspence = (Component) => {\r\n    return (props) => {\r\n        return <Suspense fallback={<Preloader />}>\r\n            <Component {...props}/>\r\n        </Suspense>\r\n    }\r\n}\r\n","import React, {Suspense} from 'react';\r\nimport './App.css';\r\nimport Footer from \"./components/Footer/Footer\";\r\nimport {BrowserRouter, Route, withRouter} from 'react-router-dom'\r\nimport Settings from \"./components/Content/Settings/Settings\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport {connect, Provider} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport {initializeApp} from \"./Redux/AppReducer\";\r\nimport Preloader from \"./components/Common/Preloader/Preloader\";\r\nimport store from \"./Redux/redux-store\";\r\nimport ProfileContainer from \"./components/Content/Profile/ProfileContainer\";\r\nimport FollowersContainer from \"./components/Content/Followers/FollowersContainer\";\r\nimport {withSuspence} from \"./components/Content/Hoc/withSuspence\";\r\n\r\n// Lazy loading\r\nconst DiscoverContainer = React.lazy(() => import('./components/Content/Discover/DiscoverContainer'));\r\nconst MessagesContainer = React.lazy(() => import('./components/Content/Messages/MessagesContainer'));\r\nconst Login = React.lazy(() => import('./components/Content/Login/Login'));\r\n\r\nclass App extends React.Component {\r\n    componentDidMount() {\r\n        this.props.initializeApp()\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.initialized) {\r\n            return <Preloader/>\r\n        }\r\n        return (\r\n            <div className=\"app-wrapper\">\r\n                <HeaderContainer/>\r\n                <div className='app-content'>\r\n                    <Route path='/Discover' render={withSuspence(DiscoverContainer)}/>\r\n                    <Route path='/Profile/:userId?' render={() => <ProfileContainer/>}/>\r\n                    <Route path='/Followers' render={() => <FollowersContainer/>}/>\r\n                    <Route path='/Messages' render={withSuspence(MessagesContainer)}/>\r\n                    <Route path='/login' render={withSuspence(Login)}/>\r\n                    <Route path='/Settings' render={() => <Settings/>}/>\r\n                </div>\r\n                <Footer/>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    initialized: state.app.initialized\r\n})\r\nlet AppComponent = compose(\r\n    withRouter,\r\n    connect(mapStateToProps, {initializeApp}))(App)\r\n\r\nlet MainApp = (props) => {\r\n    return <BrowserRouter>\r\n        <Provider store={store}>\r\n            <AppComponent/>\r\n        </Provider>\r\n    </BrowserRouter>\r\n}\r\n\r\nexport default MainApp","import ReactDOM from \"react-dom\";\r\nimport React from \"react\";\r\nimport MainApp from \"./App\";\r\n\r\n\r\nReactDOM.render(<MainApp />, document.getElementById('root'))\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"User_btn__1k7EG\",\"userDetail\":\"User_userDetail__2gtoD\",\"header\":\"User_header__2VzxF\",\"logo\":\"User_logo__2ZsX8\",\"name\":\"User_name__158NE\",\"management\":\"User_management__2un_n\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"section\":\"Profile_section__25X-3\",\"posts\":\"Profile_posts__EDCVE\",\"nav\":\"Profile_nav__2BKU2\",\"link\":\"Profile_link__1NC66\"};","import {authAPI} from \"../DAL/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\n//INIT\r\nlet initState = {\r\n    id: null,\r\n    login: null,\r\n    email: null,\r\n    isAuth: false\r\n}\r\n\r\n// ACTION TYPE\r\nlet SET_AUTH_USER_DATA = 'app/SET-AUTH-USER_DATA';\r\n\r\n// ACTION CREATOR\r\nexport const setAuthUserData = (id, login, email, isAuth) => ({\r\n    type: SET_AUTH_USER_DATA,\r\n    data: {id, login, email, isAuth}\r\n})\r\n\r\n// THUNK CREATOR\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    let response = await authAPI.me()\r\n    if (response.data.resultCode === 0) {\r\n        let {id, login, email} = response.data.data\r\n        dispatch(setAuthUserData(id, login, email, true))\r\n    }\r\n}\r\nexport const login = (email, password, rememberMe) => async (dispatch) => {\r\n    let response = await authAPI.login(email, password, rememberMe)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserData())\r\n    } else {\r\n        let message = response.data.messages.length > 0\r\n            ? response.data.messages[0]\r\n            : 'Some error'\r\n        dispatch(stopSubmit('login', {_error: message}))\r\n\r\n    }\r\n}\r\nexport const logout = () => async (dispatch) => {\r\n    let response = await authAPI.logout()\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserData(null, null, null, false))\r\n    }\r\n}\r\n//REDUCER\r\nconst authReducer = (state = initState, action) => {\r\n    switch (action.type) {\r\n        case SET_AUTH_USER_DATA:\r\n            return {...state, ...action.data}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default authReducer","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedPage\":\"Paginator_selectedPage__2FV54\",\"pagination\":\"Paginator_pagination__3gpz2\",\"pagControl\":\"Paginator_pagControl__3ho2q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1VlXv\",\"logo\":\"Header_logo__1ytWN\",\"nav\":\"Header_nav__3OQe5\",\"activeLink\":\"Header_activeLink__1A2-P\",\"link\":\"Header_link__2nD_e\",\"login\":\"Header_login__FppMb\",\"auth\":\"Header_auth__1JFV8\"};","// INIT\r\nlet initState = {\r\n    message: [\r\n        {id: 1, name: 'Pasha', time: '10:45', message: 'Hello world'},\r\n        {id: 2, name: 'Artem', time: '10:42', message: 'Hi'},\r\n        {id: 3, name: 'Sveta', time: '10:32', message: 'How are u?'},\r\n        {id: 4, name: 'Katya', time: '11:21', message: 'Thx'},\r\n        {id: 5, name: 'Vitalik', time: '11:19', message: 'BB'}\r\n    ],\r\n    correspondence: [\r\n        {id: 1, time: '10:45', message: 'Hello world'},\r\n        {id: 2, time: '10:45', message: 'BRUH'},\r\n        {id: 3, time: '10:45', message: 'Hi'},\r\n        {id: 4, time: '10:45', message: 'thx'}\r\n    ]\r\n}\r\n\r\n// ACTION TYPE\r\nlet NEW_MESSAGE = 'messages/NEW-MESSAGE';\r\n\r\n// ACTION CREATOR\r\nexport const addMessage = (message) => ({type: NEW_MESSAGE, message})\r\n\r\n// REDUCER\r\nconst messagesReducer = (state = initState, action) => {\r\n    switch (action.type) {\r\n        case NEW_MESSAGE:\r\n            return {\r\n                ...state,\r\n                correspondence: [...state.correspondence, {id: 5, time: new Date(), message: action.message}],\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default messagesReducer","import React from \"react\";\r\nimport {Redirect} from \"react-router-dom\"\r\nimport {connect} from \"react-redux\";\r\n\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to={'/login'}/>\r\n\r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n\r\n    return connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"Footer_footer__2W6va\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"preloader_preloader__zBpRQ\"};","module.exports = __webpack_public_path__ + \"static/media/loader.93546541.svg\";","import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        \"API-KEY\": \"61a5ce91-0013-44e5-9ca4-7aef27d4ef3d\"\r\n    }\r\n})\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 9) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(responce => responce.data)\r\n    },\r\n    follow(userId) {\r\n        return instance.post(`follow/${userId}`, {})\r\n    },\r\n    unfollow(userId) {\r\n        return instance.delete(`follow/${userId}`)\r\n    },\r\n    getProfile(userId) {\r\n        //Старый метод\r\n        console.warn('Старый метод')\r\n        return profileAPI.getProfile(userId)\r\n    }\r\n}\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/${userId}`)\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/${userId}`)\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put('profile/status',{status})\r\n    }\r\n}\r\n\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get('auth/me')\r\n    },\r\n    login(email, password, rememberMe = false) {\r\n        return instance.post('auth/login', {email, password, rememberMe})\r\n    },\r\n    logout() {\r\n        return instance.delete('auth/login')\r\n    }\r\n}\r\n","module.exports = __webpack_public_path__ + \"static/media/avatar.54e9ec53.png\";"],"sourceRoot":""}